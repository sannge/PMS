---
phase: 01-migration-and-data-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  # DELETE
  - electron-app/src/renderer/stores/auth-store.ts
  - electron-app/src/renderer/stores/notification-ui-store.ts
  - electron-app/src/renderer/stores/index.ts
  # MODIFY (import updates)
  - electron-app/src/renderer/hooks/use-auth.ts
  - electron-app/src/renderer/hooks/use-queries.ts
  - electron-app/src/renderer/hooks/use-websocket.ts
  - electron-app/src/renderer/hooks/use-websocket-cache.ts
  - electron-app/src/renderer/hooks/use-notifications.ts
  - electron-app/src/renderer/hooks/use-members.ts
  - electron-app/src/renderer/hooks/use-invitations.ts
  - electron-app/src/renderer/hooks/use-comments.ts
  - electron-app/src/renderer/hooks/use-checklists.ts
  - electron-app/src/renderer/hooks/use-attachments.ts
  - electron-app/src/renderer/hooks/use-task-viewers.ts
  - electron-app/src/renderer/hooks/use-presence.ts
  - electron-app/src/renderer/pages/dashboard.tsx
  - electron-app/src/renderer/pages/projects/[id].tsx
  - electron-app/src/renderer/pages/applications/[id].tsx
  - electron-app/src/renderer/pages/notes/index.tsx
  - electron-app/src/renderer/components/tasks/task-detail.tsx
  - electron-app/src/renderer/components/tasks/task-kanban-board.tsx
  - electron-app/src/renderer/components/projects/project-board.tsx
  - electron-app/src/renderer/components/projects/ProjectMemberPanel.tsx
  - electron-app/src/renderer/components/projects/ProjectStatusOverride.tsx
  - electron-app/src/renderer/components/layout/sidebar.tsx
  - electron-app/src/renderer/components/layout/notification-panel.tsx
  - electron-app/src/renderer/components/kanban/KanbanBoard.tsx
  - electron-app/src/renderer/components/invitations/invitation-modal.tsx
  - electron-app/src/renderer/components/editor/RichTextEditor.tsx
  - electron-app/src/renderer/components/comments/CommentThread.tsx
  - electron-app/src/renderer/components/comments/CommentItem.tsx
autonomous: true

must_haves:
  truths:
    - "No file in the codebase imports from @/stores/, @/stores/auth-store, @/stores/notification-ui-store, or @/stores/index"
    - "All files that previously imported from @/stores/* now import directly from @/contexts/auth-context or @/contexts/notification-ui-context"
    - "The stores/ directory does not exist"
    - "Frontend compiles without errors (npm run typecheck passes)"
    - "Frontend lints without warnings (npm run lint passes)"
  artifacts:
    - path: "electron-app/src/renderer/hooks/use-queries.ts"
      provides: "TanStack Query hooks importing auth from contexts"
      contains: "@/contexts/auth-context"
    - path: "electron-app/src/renderer/hooks/use-auth.ts"
      provides: "Auth hook importing from contexts"
      contains: "@/contexts/auth-context"
  key_links:
    - from: "electron-app/src/renderer/hooks/use-queries.ts"
      to: "@/contexts/auth-context"
      via: "direct import (not through @/stores shim)"
      pattern: "from '@/contexts/auth-context'"
    - from: "electron-app/src/renderer/components/layout/notification-panel.tsx"
      to: "@/contexts/notification-ui-context"
      via: "direct import"
      pattern: "from '@/contexts/notification-ui-context'"
---

<objective>
Remove all Zustand store shim files and update every import across the codebase to point directly at the React Context source files. Delete the stores/ directory entirely.

Purpose: Complete the Zustand-to-Context migration that was partially done. The shim files (auth-store.ts, notification-ui-store.ts, stores/index.ts) are backward-compatibility wrappers that add indirection. After Plan 01-01 removed notes-store.ts and notes references from stores/index.ts, only auth and notification-ui shims remain. This plan eliminates them.

Output: Zero imports from `@/stores/*` anywhere in the codebase. The `stores/` directory no longer exists.
</objective>

<execution_context>
@C:\Users\samng\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\samng\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-migration-and-data-foundation/01-RESEARCH.md
@.planning/phases/01-migration-and-data-foundation/01-01-SUMMARY.md

Key reference files:
@electron-app/src/renderer/stores/auth-store.ts
@electron-app/src/renderer/stores/notification-ui-store.ts
@electron-app/src/renderer/stores/index.ts
@electron-app/src/renderer/contexts/auth-context.tsx
@electron-app/src/renderer/contexts/notification-ui-context.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update all auth-store imports to auth-context</name>
  <files>
    electron-app/src/renderer/hooks/use-auth.ts (MODIFY)
    electron-app/src/renderer/hooks/use-queries.ts (MODIFY)
    electron-app/src/renderer/hooks/use-websocket.ts (MODIFY)
    electron-app/src/renderer/hooks/use-websocket-cache.ts (MODIFY)
    electron-app/src/renderer/hooks/use-notifications.ts (MODIFY)
    electron-app/src/renderer/hooks/use-members.ts (MODIFY)
    electron-app/src/renderer/hooks/use-invitations.ts (MODIFY)
    electron-app/src/renderer/hooks/use-comments.ts (MODIFY)
    electron-app/src/renderer/hooks/use-checklists.ts (MODIFY)
    electron-app/src/renderer/hooks/use-attachments.ts (MODIFY)
    electron-app/src/renderer/hooks/use-task-viewers.ts (MODIFY)
    electron-app/src/renderer/hooks/use-presence.ts (MODIFY)
    electron-app/src/renderer/pages/dashboard.tsx (MODIFY)
    electron-app/src/renderer/pages/projects/[id].tsx (MODIFY)
    electron-app/src/renderer/pages/applications/[id].tsx (MODIFY)
    electron-app/src/renderer/components/tasks/task-detail.tsx (MODIFY)
    electron-app/src/renderer/components/tasks/task-kanban-board.tsx (MODIFY)
    electron-app/src/renderer/components/projects/project-board.tsx (MODIFY)
    electron-app/src/renderer/components/projects/ProjectMemberPanel.tsx (MODIFY)
    electron-app/src/renderer/components/projects/ProjectStatusOverride.tsx (MODIFY)
    electron-app/src/renderer/components/kanban/KanbanBoard.tsx (MODIFY)
    electron-app/src/renderer/components/invitations/invitation-modal.tsx (MODIFY)
    electron-app/src/renderer/components/editor/RichTextEditor.tsx (MODIFY)
    electron-app/src/renderer/components/comments/CommentThread.tsx (MODIFY)
    electron-app/src/renderer/components/comments/CommentItem.tsx (MODIFY)
  </files>
  <action>
    Search all files importing from `@/stores/auth-store` or `@/stores` (for auth-related exports) and update their imports to point directly at `@/contexts/auth-context`.

    The transformation is:
    - `from '@/stores/auth-store'` -> `from '@/contexts/auth-context'`
    - `from '@/stores'` (when importing auth exports like useAuthStore, getAuthHeaders, selectUser, etc.) -> `from '@/contexts/auth-context'`

    Steps:
    1. Run `grep -rn "@/stores/auth-store\|@/stores'" electron-app/src/renderer/ --include="*.ts" --include="*.tsx"` to find ALL files importing from stores.
    2. For EACH file found:
       a. Read the file to understand exactly what it imports from stores
       b. If it imports auth-related exports (useAuthStore, getAuthHeaders, selectUser, selectIsAuthenticated, selectIsLoading, selectIsInitialized, selectError, User, LoginCredentials, RegisterData, TokenResponse, AuthError): change import path to `@/contexts/auth-context`
       c. If it imports notification-ui exports (useNotificationUIStore, NotificationUIProvider): change import path to `@/contexts/notification-ui-context`
       d. If it imports both auth and notification-ui from `@/stores`, split into two separate imports
    3. Verify no import uses `default` import from auth-store (the shim has a default export). Convert `import useAuthStore from '@/stores/auth-store'` to named `import { useAuthStore } from '@/contexts/auth-context'`.

    IMPORTANT: The auth-context exports the exact same named exports as the shim. No API changes needed â€” only import paths change. Read auth-store.ts to see the full export list and match it against auth-context.tsx.
  </action>
  <verify>
    - `grep -rn "@/stores" electron-app/src/renderer/ --include="*.ts" --include="*.tsx"` returns zero results
    - `cd electron-app && npm run typecheck` passes
  </verify>
  <done>
    Every file that imported from `@/stores/auth-store` or `@/stores` now imports directly from `@/contexts/auth-context` or `@/contexts/notification-ui-context`. No import paths reference the stores directory.
  </done>
</task>

<task type="auto">
  <name>Task 2: Delete store shim files and stores directory</name>
  <files>
    electron-app/src/renderer/stores/auth-store.ts (DELETE)
    electron-app/src/renderer/stores/notification-ui-store.ts (DELETE)
    electron-app/src/renderer/stores/index.ts (DELETE)
    electron-app/src/renderer/stores/ (DELETE directory)
  </files>
  <action>
    1. DELETE `electron-app/src/renderer/stores/auth-store.ts`
    2. DELETE `electron-app/src/renderer/stores/notification-ui-store.ts`
    3. DELETE `electron-app/src/renderer/stores/index.ts` (should already have notes exports removed by Plan 01-01)
    4. DELETE the `electron-app/src/renderer/stores/` directory entirely

    5. Check if `tsconfig.json` or `vite.config.ts` has a path alias for `@/stores/*`. If so, remove it since the directory no longer exists. The alias was `@/stores/*` -> `src/renderer/stores/*`.

    6. Run a final grep to confirm zero references to `@/stores` exist anywhere in the project.
  </action>
  <verify>
    - `ls electron-app/src/renderer/stores/` fails (directory does not exist)
    - `grep -r "@/stores" electron-app/src/ --include="*.ts" --include="*.tsx" --include="*.json"` returns zero results (excluding node_modules)
    - `cd electron-app && npm run typecheck` passes
    - `cd electron-app && npm run lint` passes (no unused imports warnings)
  </verify>
  <done>
    The stores/ directory is completely removed. No Zustand shim files exist. No import anywhere references @/stores. The tsconfig path alias for @/stores is removed if it existed. Frontend compiles and lints cleanly.
  </done>
</task>

</tasks>

<verification>
1. Zero store references: `grep -r "@/stores" electron-app/src/renderer/ --include="*.ts" --include="*.tsx"` returns empty
2. Directory gone: `ls electron-app/src/renderer/stores/` fails
3. TypeScript: `cd electron-app && npm run typecheck` passes
4. Lint: `cd electron-app && npm run lint` passes
5. Auth still works: imports from `@/contexts/auth-context` resolve correctly
</verification>

<success_criteria>
- The `stores/` directory does not exist under electron-app/src/renderer/
- No file imports from `@/stores/*` or `@/stores`
- All ~27 files that previously imported from stores now import from contexts
- Frontend compiles with zero TypeScript errors
- Frontend lints with zero warnings
</success_criteria>

<output>
After completion, create `.planning/phases/01-migration-and-data-foundation/01-02-SUMMARY.md`
</output>
