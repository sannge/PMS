---
status: complete
phase: 02.1-onenote-knowledge-tree-redesign
source: 02.1-01-SUMMARY.md, 02.1-02-SUMMARY.md, 02.1-03-SUMMARY.md, 02.1-04-SUMMARY.md, 02.1-05-SUMMARY.md
started: 2026-02-02T09:00:00Z
updated: 2026-02-02T09:30:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Notes Page Tab Navigation
expected: Open the Notes page. Horizontal tabs appear: "My Notes" first, then one tab per application with documents. Clicking a tab switches the tree below.
result: issue
reported: "Tabs are getting cut off. Expected OneNote-style tabs that span the full panel width with overflow dropdown menu (...) when there are too many tabs to fit"
severity: major

### 2. My Notes Tab Content
expected: Click "My Notes" tab. The tree shows your personal folders and documents. No application or project content appears.
result: issue
reported: "Multiple UX issues: (1) Create document button too big, (2) Spinner instead of skeleton loading, (3) New document doesn't appear after creation - no optimistic update, (4) Should have popup to enter document name with creating status then auto-close, (5) Same issues for folder creation, (6) Same issues for rename, (7) Cannot drag and reorder docs/folders, (8) 'Unfiled' section confusing - doesn't make sense, (9) Cannot resize panel width by dragging edge like OneNote, (10) Right-click create doc/folder doesn't work or creates in wrong location (not under selected folder)"
severity: major

### 3. Application Tab Content
expected: Click an application tab. The tree shows that application's folders/documents, plus collapsible project sections (with FolderKanban icon) for each project under that application.
result: issue
reported: "Shows ALL projects instead of only projects with knowledge documents. Expanding project shows spinner - want skeleton loading. Delete needs confirmation popup with good UX loading. Same create/rename/drag-reorder/nesting issues as Test 2. Need to verify caching is working."
severity: major

### 4. Project Section Expand/Collapse
expected: In an application tab, click a project section header. It expands to show that project's folders/documents. The data loads lazily on first expand. Click again to collapse.
result: pass

### 5. OneNote-Style Tree Items
expected: Tree items display without chevron arrows. Indentation indicates nesting. Items expand/collapse on click. No document counts displayed.
result: issue
reported: "Cannot nest folders - folders are only created at the root level (application root or project root when inside project knowledge tab)"
severity: major

### 6. Lock Indicator on Tree Items
expected: If a document is locked by another user, a lock icon appears next to it in the tree. Hovering shows who is editing it.
result: issue
reported: "Clicking documents doesn't show the editor - can't modify anything. Also, when one person clicks a document, other users don't see the lock icon appear next to it in the tree."
severity: blocker

### 7. Quick Create Document Button
expected: Click the new document button (FilePlus icon) in the sidebar header. A new untitled document is created in the current scope (personal or application depending on active tab).
result: issue
reported: "Only creates in root directory. Should create underneath selected file/folder, only create at root if nothing selected. Still cannot drag to reorder or nest by dragging within same scope."
severity: major

### 8. Quick Create Folder Button
expected: Click the new folder button (FolderPlus icon) in the sidebar header. A new folder is created in the current scope.
result: issue
reported: "Folder is created but UX is bad. Need popup dialog to ask for name, create in correct nested/root folder based on selection, skeleton loading, and proper caching/query invalidation."
severity: major

### 9. Search Bar with Global Toggle
expected: The search bar has a globe icon button on the right. Clicking it toggles global search mode (placeholder text changes to "Search all documents..."). Click again to return to scoped search.
result: issue
reported: "Global toggle works but search doesn't actually search anything. Also, search bar should be outside the panel."
severity: major

### 10. Application Detail Page - Knowledge Tab
expected: Open an application detail page. You should see tabs: Projects, Archive, and Knowledge. Click the Knowledge tab. A two-panel view appears with the document tree on the left and editor on the right.
result: issue
reported: "Knowledge tab visible and panel works, but only takes half the screen - need full screen width. Also has all the same issues as Notes screen (create UX, drag/reorder, editor not showing, etc.)"
severity: major

### 11. Project Detail Page - Knowledge Tab
expected: Open a project detail page. You should see tabs: Board and Knowledge (with FileText icon). Click the Knowledge tab. A two-panel view appears with the project's document tree and editor.
result: issue
reported: "Editor shows here (inconsistent - doesn't show in Application/Notes screen). Editor only 1/4 of screen with unwanted blue border. Want OneNote-style: full screen editor, resizable/adjustable content boxes, expand horizontally, horizontal scroll for more space. Same issues as Application Knowledge tab."
severity: major

### 12. Knowledge Panel Editor
expected: In a Knowledge tab (app or project detail page), click a document in the tree. The document content loads in the right-side editor panel. Make a change and wait 2 seconds. The content auto-saves.
result: issue
reported: "No autosave happening at all. Same editor issues: shows in Project but not Application/Notes, only 1/4 screen with blue border, want OneNote-style full screen with resizable content boxes and horizontal expansion."
severity: blocker

### 13. Scope Isolation Between Panels
expected: Open the Notes page, Application detail Knowledge tab, and Project detail Knowledge tab in succession. Each has independent tree state and selected document (changing selection in one doesn't affect others).
result: skipped
reason: Can't test properly since editor doesn't work consistently across screens

## Summary

total: 13
passed: 1
issues: 11
pending: 0
skipped: 1

## Gaps

- truth: "Horizontal tabs span full panel width with overflow dropdown when tabs exceed available space"
  status: failed
  reason: "User reported: Tabs are getting cut off. Expected OneNote-style tabs that span the full panel width with overflow dropdown menu (...) when there are too many tabs to fit"
  severity: major
  test: 1
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Create document/folder shows popup dialog to enter name, displays creating status, then closes and shows item in tree with optimistic update"
  status: failed
  reason: "User reported: No popup for naming, spinner instead of skeleton, new items don't appear after creation, no optimistic update"
  severity: major
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Documents and folders can be dragged to reorder within the tree"
  status: failed
  reason: "User reported: Cannot drag and reorder docs/folders even within My Notes"
  severity: major
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Unfiled section should not appear or should have clearer purpose"
  status: failed
  reason: "User reported: 'Unfiled' section is confusing and doesn't make sense"
  severity: minor
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Panel width is resizable by dragging the edge like OneNote"
  status: failed
  reason: "User reported: Cannot resize panel width by dragging edge"
  severity: major
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Right-click context menu creates document/folder under the selected folder"
  status: failed
  reason: "User reported: Right-click create doesn't work or creates in wrong location (not under selected folder)"
  severity: major
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Create button should be appropriately sized"
  status: failed
  reason: "User reported: Create document button is too big"
  severity: cosmetic
  test: 2
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Application tab only shows projects that have knowledge documents, not all projects"
  status: failed
  reason: "User reported: Shows ALL projects instead of only projects with knowledge documents"
  severity: major
  test: 3
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Delete has confirmation popup with good UX loading state"
  status: failed
  reason: "User reported: Delete needs confirmation popup with good UX loading"
  severity: major
  test: 3
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Use skeleton loading instead of spinners throughout the knowledge tree"
  status: failed
  reason: "User reported: Expanding project shows spinner - want skeleton loading everywhere"
  severity: major
  test: 3
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Folders can be nested inside other folders (not just at root level)"
  status: failed
  reason: "User reported: Cannot nest folders - folders are only created at the root level (application root or project root)"
  severity: major
  test: 5
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Clicking a document in the tree opens the editor panel to view/edit the document"
  status: failed
  reason: "User reported: Clicking documents doesn't show the editor - can't modify anything"
  severity: blocker
  test: 6
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Lock icon appears in tree when another user is editing a document"
  status: failed
  reason: "User reported: When one person clicks a document, other users don't see the lock icon appear next to it in the tree"
  severity: major
  test: 6
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Quick create document creates under selected folder/file, only at root if nothing selected"
  status: failed
  reason: "User reported: Only creates in root directory. Should create underneath selected file/folder, only create at root if nothing selected."
  severity: major
  test: 7
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Search bar actually filters/searches documents"
  status: failed
  reason: "User reported: Global toggle works but search doesn't actually search anything"
  severity: major
  test: 9
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Search bar should be positioned outside the sidebar panel"
  status: failed
  reason: "User reported: Search bar should be outside the panel"
  severity: minor
  test: 9
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Application Knowledge tab panel should use full screen width, not half"
  status: failed
  reason: "User reported: Knowledge panel only takes half the screen - need full screen width"
  severity: major
  test: 10
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Editor behavior is consistent across Notes screen, Application Knowledge, and Project Knowledge"
  status: failed
  reason: "User reported: Editor shows in Project Knowledge but not in Application/Notes screen - inconsistent behavior"
  severity: blocker
  test: 11
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Editor uses full available space without unwanted blue border"
  status: failed
  reason: "User reported: Editor only 1/4 of screen with unwanted blue border"
  severity: major
  test: 11
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "OneNote-style editor with resizable content boxes, horizontal expansion, and scroll"
  status: failed
  reason: "User reported: Want OneNote-style full screen editor with resizable/adjustable content boxes, ability to expand horizontally, horizontal scroll for more space"
  severity: major
  test: 11
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""

- truth: "Document content auto-saves after 2 seconds of inactivity"
  status: failed
  reason: "User reported: No autosave happening at all"
  severity: blocker
  test: 12
  root_cause: ""
  artifacts: []
  missing: []
  debug_session: ""
